
  <% @uas = UserAssignment.all %>
  <% @as = Assignment.all %>
<br>
<br>
<br>
<div class="slide">
<table class="table table-hover" id="studentstable">
  <tr>
  		<td>Student Name</td>
  		<td>Country</td>
  		 <td>Program</td>


  		<% @as.each do |assignment| %>
          <% course = Course.find_by_id(assignment.course_id) %>
			<td>

					<div class="name"><%= course.title %></div>


			</td>
        <% end %>

  </tr>
  	 <% @users.each do |user| %>
		<tr>
			<td><div class="name"><%= user.full_name %></div></td>
			<td><div class="name"><%= user.country %></div></td>
			<td><div class="name"><%= user.online %></div></td>


        <% @as.each do |assignment| %>
        	<td>

		<% if UserAssignment.where(:assignment_id => assignment.id,:user_id => user.id ).blank? %>
		 	<i class="fa fa-square-o"></i>0</td>
		<% else %>
		<% if UserAssignment.where(:assignment_id => assignment.id,:user_id => user.id ).first.complete == false %>
					 	<i class="fa fa-square-o"></i>0</td>
			<% else %>
				<i class="fa fa-check-square-o">1</i>
				<div class="name"></div>
				</td>
		<% end %>
		<% end %>



        <% end %>


		</tr>
	<% end %>

</table>
<input type="button" onclick="$('#studentstable').table2CSV()" value="Report into CSV">
</div>

<script type="text/javascript" src="http://www.kunalbabre.com/projects/table2CSV.js" > </script>
<style type="text/css">
	.slide
	{
    overflow-x: auto;
	}
	table, th, td
	{
	border: 1px solid black;
	}
	table
	{
	border-collapse:collapse;
	}
	table, th, td
	{
	border: 1px solid black;
	}

	table
	{
	width:100%;
	}
	th
	{
	height:50px;
	}

	td
	{
	text-align:right;
	}

	td
	{
	padding:15px;
	}
	table, td, th
	{
	border:1px solid green;
	}
	th
	{
	background-color:green;
	color:white;
	}
</style>
